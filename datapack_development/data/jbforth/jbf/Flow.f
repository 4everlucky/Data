: MARK    HERE 0 , ;
: BACK    HERE SWAP H! ;
: IF      ?COMP  ['] ?BRANCH , MARK 2 ; IMMEDIATE
: THEN    ?COMP  2 ?PAIR BACK ; IMMEDIATE
: ELSE    ?COMP  2 ?PAIR ['] BRANCH , MARK >R BACK R> 2 ; IMMEDIATE
: BEGIN   ?COMP  HERE  1 ; IMMEDIATE
: UNTIL   ?COMP  1 ?PAIR  ['] ?BRANCH ,  , ; IMMEDIATE
: WHILE   ?COMP  ['] ?BRANCH , MARK 2 ; IMMEDIATE
: REPEAT  ?COMP  ROT  1  ?PAIR  ROT   ['] BRANCH ,  ,  2 ?PAIR BACK ; IMMEDIATE
